(library
 (name coral)
 (modules
   import_resolution name_resolution init_func llvm_backend)
 (foreign_stubs
  (language c)
  (names foobar))
 (libraries coral_types coral_core coral_frontend str ctypes ctypes.foreign llvm
            llvm.analysis llvm.passmgr_builder llvm.executionengine ppx_let)
 (preprocess
  (pps ppx_compare ppx_deriving.show ppx_sexp_conv ppx_let ppx_inline_test)))

(executable
 (name main)
 (modules main)
 (libraries coral)
 (preprocess
  (pps ppx_compare ppx_deriving.show ppx_sexp_conv ppx_let ppx_inline_test)))

(env
 (dev
  (flags
   (:standard -warn-error +8-26-27-33))))
