(library
 (name coral)
 (modules import_resolution name_resolution init_func llvm_backend)
 (libraries coral_core coral_frontend str ctypes ctypes.foreign llvm
   llvm.analysis llvm.passmgr_builder llvm.executionengine)
 (preprocess
  (pps ppx_inline_test)))

(executable
 (name main)
 (modules main)
 (foreign_stubs
  (language c)
  (names foobar))
 (libraries coral)
 (preprocess
  (pps ppx_inline_test)))

(env
 (dev
  (flags
   (:standard -warn-error -A))))
